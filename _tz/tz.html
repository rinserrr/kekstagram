<!DOCTYPE html>
<h2 class="up-title">
    Личный проект «Кекстаграм»
  </h2><div class="up-project"><div class="up-project__top text-container"><div class="up-project__left"><ul><li>Сложный проект</li><li><a class="link" href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#specification">Техническое задание</a></li></ul><div class="up-project__info up-project__info--tariff"></div></div><div class="up-project__right"><a class="up-project__image" href="https://up.htmlacademy.ru/assets/intensives/javascript/27/projects/kekstagram/image.jpg?v=202212230324" target="_blank"><img src="./tz_files/preview.jpg" width="230" height="187" alt="Кекстаграм"></a></div></div><div class="up-project__info"><h3 class="up-project__caption">Техническое задание</h3><div class="up-project__specification text-container text-container--module text-container--specification" id="specification"><h2 id="o-proekte">О&nbsp;проекте</h2><p>Кекстаграм&nbsp;— сервис просмотра изображений. Пользователям предоставлена возможность загружать свои фотографии или просматривать фотографии, загруженные ранее другими пользователями.</p><h2 id="opisanie-funktsionalnosti">Описание функциональности</h2><h3 id="1.-zagruzka-novogo-izobrazheniya-na-sait-i-zapolnenie-informatsii-o-nyom"><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-1" id="kekstagram-1">1.</a> Загрузка нового изображения на&nbsp;сайт и&nbsp;заполнение информации о&nbsp;нём</h3><ul><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-1-1" id="kekstagram-1-1">1.1.</a> Загрузка нового изображения:</p><ul><li>выбор файла с&nbsp;изображением для загрузки;</li><li>изменение масштаба изображения;</li><li>применение одного из&nbsp;заранее заготовленных эффектов;</li><li>выбор глубины эффекта с&nbsp;помощью ползунка;</li><li>добавление текстового комментария;</li><li>добавление хэш-тегов.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-1-2" id="kekstagram-1-2">1.2.</a> Выбор изображения для загрузки осуществляется с&nbsp;помощью стандартного <strong>контрола загрузки файла <code>#upload-file</code></strong>, который стилизован под букву «О» в&nbsp;логотипе. После выбора изображения (изменения значения поля <code>#upload-file</code>), показывается форма редактирования изображения. У&nbsp;элемента <code>.img-upload__overlay</code> удаляется класс <code>hidden</code>, а&nbsp;<code>body</code> задаётся класс <code>modal-open</code>.</p><p>После выбора изображения пользователем с&nbsp;помощью стандартного <strong>контрола загрузки файла <code>#upload-file</code></strong>, нужно подставить его в&nbsp;форму редактирования вместо тестового изображения.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-1-3" id="kekstagram-1-3">1.3</a> Закрытие формы редактирования изображения производится либо нажатием на&nbsp;кнопку <code>#upload-cancel</code>, либо нажатием клавиши&nbsp;Esc. Элементу <code>.img-upload__overlay</code> возвращается класс <code>hidden</code>. У&nbsp;элемента <code>body</code> удаляется класс <code>modal-open</code>.</p></li></ul><h3 id="2.-redaktirovanie-izobrazheniya-i-ogranicheniya,-nakladivaemie-na-polya"><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2" id="kekstagram-2">2.</a> Редактирование изображения и&nbsp;ограничения, накладываемые на&nbsp;поля</h3><ul><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-1" id="kekstagram-2-1">2.1.</a> Масштаб:</p><ul><li>При нажатии на&nbsp;кнопки <code>.scale__control--smaller</code> и&nbsp;<code>.scale__control--bigger</code> должно изменяться значение поля <code>.scale__control--value</code>;</li><li>Значение должно изменяться с&nbsp;шагом в&nbsp;25. Например, если значение поля установлено в&nbsp;50%, после нажатия на&nbsp;«+», значение должно стать равным&nbsp;75%. Максимальное значение&nbsp;— 100%, минимальное&nbsp;— 25%. Значение по&nbsp;умолчанию&nbsp;— 100%;</li><li>При изменении значения поля <code>.scale__control--value</code> изображению внутри <code>.img-upload__preview</code> должен добавляться соответствующий стиль CSS, который с&nbsp;помощью трансформации <code>scale</code> задаёт масштаб. Например, если в&nbsp;поле стоит значение 75%, то&nbsp;в&nbsp;стиле изображения должно быть написано <code>transform: scale(0.75)</code>.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-2" id="kekstagram-2-2">2.2.</a> Наложение эффекта на&nbsp;изображение:</p><ul><li>По&nbsp;умолчанию должен быть выбран эффект «Оригинал».</li><li>На&nbsp;изображение может накладываться только один эффект.</li><li>При смене эффекта, выбором одного из&nbsp;значений среди радиокнопок <code>.effects__radio</code>, добавить картинке внутри <code>.img-upload__preview</code> CSS-класс, соответствующий эффекту. Например, если выбран эффект <code>.effect-chrome</code>, изображению нужно добавить класс <code>effects__preview--chrome</code>.</li><li>Интенсивность эффекта регулируется перемещением ползунка в&nbsp;<strong>слайдере</strong>. Слайдер реализуется сторонней библиотекой для реализации слайдеров noUiSlider. Уровень эффекта записывается в&nbsp;поле <code>.effect-level__value</code>. При изменении уровня интенсивности эффекта (предоставляется API слайдера), CSS-стили картинки внутри <code>.img-upload__preview</code> обновляются следующим образом:
<ul><li>Для эффекта «Хром»&nbsp;— <code>filter: grayscale(0..1)</code> с&nbsp;шагом 0.1;</li><li>Для эффекта «Сепия»&nbsp;— <code>filter: sepia(0..1)</code> с&nbsp;шагом 0.1;</li><li>Для эффекта «Марвин»&nbsp;— <code>filter: invert(0..100%)</code> с&nbsp;шагом 1%;</li><li>Для эффекта «Фобос»&nbsp;— <code>filter: blur(0..3px)</code> с&nbsp;шагом 0.1px;</li><li>Для эффекта «Зной»&nbsp;— <code>filter: brightness(1..3)</code> с&nbsp;шагом 0.1;</li><li>Для эффекта «Оригинал» CSS-стили <code>filter</code> удаляются.</li></ul></li><li>При выборе эффекта «Оригинал» слайдер скрывается.</li><li>При переключении эффектов, уровень насыщенности сбрасывается до&nbsp;начального значения (100%): слайдер, CSS-стиль изображения и&nbsp;значение поля должны обновляться.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-3" id="kekstagram-2-3">2.3.</a> Хэш-теги:</p><ul><li>хэш-тег начинается с&nbsp;символа <code>#</code> (решётка);</li><li>строка после решётки должна состоять из&nbsp;букв и&nbsp;чисел и&nbsp;не&nbsp;может содержать пробелы, спецсимволы (#, @, $ и&nbsp;т.&nbsp;п.), символы пунктуации (тире, дефис, запятая и&nbsp;т.&nbsp;п.), эмодзи и&nbsp;т.&nbsp;д.;</li><li>хеш-тег не&nbsp;может состоять только из&nbsp;одной решётки;</li><li>максимальная длина одного хэш-тега 20 символов, включая решётку;</li><li>хэш-теги нечувствительны к&nbsp;регистру: #ХэшТег и&nbsp;#хэштег считаются одним и&nbsp;тем&nbsp;же тегом;</li><li>хэш-теги разделяются пробелами;</li><li>один и&nbsp;тот&nbsp;же хэш-тег не&nbsp;может быть использован дважды;</li><li>нельзя указать больше пяти хэш-тегов;</li><li>хэш-теги необязательны;</li><li>если фокус находится в&nbsp;поле ввода хэш-тега, нажатие на&nbsp;Esc не&nbsp;должно приводить к&nbsp;закрытию формы редактирования изображения.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-4" id="kekstagram-2-4">2.4.</a> Комментарий:</p><ul><li>комментарий не&nbsp;обязателен;</li><li>длина комментария не&nbsp;может составлять больше 140 символов;</li><li>если фокус находится в&nbsp;поле ввода комментария, нажатие на&nbsp;Esc не&nbsp;должно приводить к&nbsp;закрытию формы редактирования изображения.</li></ul></li></ul><h3 id="3.-otpravka-dannikh-na-server"><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3" id="kekstagram-3">3.</a> Отправка данных на&nbsp;сервер</h3><ul><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-1" id="kekstagram-3-1">3.1.</a> После заполнения всех данных, при нажатии на&nbsp;кнопку «Отправить», все данные из&nbsp;формы, включая изображения, с&nbsp;помощью AJAX-запроса отправляются на&nbsp;сервер <a href="https://27.javascript.pages.academy/kekstagram">https://27.javascript.pages.academy/kekstagram</a> методом <code>POST</code> с&nbsp;типом <code>multipart/form-data</code>. На&nbsp;время выполнения запроса к&nbsp;серверу кнопка «Отправить» блокируется.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-2" id="kekstagram-3-2">3.2.</a> Страница реагирует на&nbsp;неправильно введённые значения в&nbsp;форму. Если данные, введённые в&nbsp;форму, не&nbsp;соответствуют ограничениям, указанным в&nbsp;пунктах <a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-3" id="kekstagram-2-3">2.3</a> и&nbsp;<a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-2-4" id="kekstagram-2-4">2.4</a>, форму невозможно отправить на&nbsp;сервер. При попытке отправить форму с&nbsp;неправильными данными, отправки не&nbsp;происходит, а&nbsp;пользователю показываются ошибки для неверно заполненных полей (для проверки данных используется сторонняя библиотека Pristine).</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-3" id="kekstagram-3-3">3.3.</a> При успешной отправке формы форма редактирования изображения закрывается, все данные, введённые в&nbsp;форму, и&nbsp;контрол фильтра приходят в&nbsp;исходное состояние:</p><ul><li>масштаб возвращается к&nbsp;100%;</li><li>эффект сбрасывается на&nbsp;«Оригинал»;</li><li>поля для ввода хэш-тегов и&nbsp;комментария очищаются;</li><li>поле загрузки фотографии, стилизованное под букву «О» в&nbsp;логотипе, очищается.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-4" id="kekstagram-3-4">3.4.</a> Если отправка данных прошла успешно, показывается соответствующее сообщение. Разметку сообщения, которая находится в&nbsp;блоке <code>#success</code> внутри шаблона <code>template</code>, нужно разместить перед закрывающим тегом <code>&lt;/body&gt;</code>. Сообщение должно исчезать после нажатия на&nbsp;кнопку <code>.success__button</code>, по&nbsp;нажатию на&nbsp;клавишу <code>Esc</code> и&nbsp;по&nbsp;клику на&nbsp;произвольную область экрана за&nbsp;пределами блока с&nbsp;сообщением.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-5" id="kekstagram-3-5">3.5.</a> Если при отправке данных произошла ошибка запроса, нужно показать соответствующее сообщение. Разметку сообщения, которая находится в&nbsp;блоке <code>#error</code> внутри шаблона <code>template</code>, нужно разместить перед закрывающим тегом <code>&lt;/body&gt;</code>. Сообщение должно исчезать после нажатия на&nbsp;кнопку <code>.error__button</code>, по&nbsp;нажатию на&nbsp;клавишу <code>Esc</code> и&nbsp;по&nbsp;клику на&nbsp;произвольную область экрана за&nbsp;пределами блока с&nbsp;сообщением. <strong>В&nbsp;таком случае вся введённая пользователем информация сохраняется, чтобы у&nbsp;него была возможность отправить форму повторно.</strong></p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-6" id="kekstagram-3-6">3.6.</a> Нажатие на&nbsp;кнопку <code>#upload-cancel</code> приводит к&nbsp;<a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-1-3" id="kekstagram-1-3">закрытию формы</a> и&nbsp;возвращению всех данных и&nbsp;контрола фильтра к&nbsp;исходному состоянию (описано в&nbsp;<a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-3-3" id="kekstagram-3-3">пункте 3.3</a>). Поле загрузки фотографии, стилизованное под букву «О» в&nbsp;логотипе, очищается.</p></li></ul><h3 id="4.-prosmotr-zagruzhennikh-izobrazhenii"><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4" id="kekstagram-4">4.</a> Просмотр загруженных изображений</h3><ul><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-1" id="kekstagram-4-1">4.1.</a> Загрузка изображений от&nbsp;других пользователей производится сразу после открытия страницы с&nbsp;удалённого <strong>сервера</strong>: <a href="https://27.javascript.pages.academy/kekstagram/data">https://27.javascript.pages.academy/kekstagram/data</a>.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-2" id="kekstagram-4-2">4.2.</a> Если при загрузке данных с&nbsp;сервера произошла ошибка запроса, нужно показать соответствующее сообщение. Дизайн блока с&nbsp;сообщением нужно придумать самостоятельно.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-3" id="kekstagram-4-3">4.3.</a> Все загруженные изображения показаны на&nbsp;главной странице в&nbsp;виде миниатюр. DOM-элемент миниатюры генерируется на&nbsp;основе шаблонного элемента <code>picture</code>, расположенного в&nbsp;элементе <code>template</code> на&nbsp;странице.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-4" id="kekstagram-4-4">4.4.</a> При нажатии на&nbsp;любую из&nbsp;миниатюр, показывается <strong>блок <code>.big-picture</code></strong>, содержащий полноэкранное изображение с&nbsp;количеством лайков и&nbsp;комментариев. Элементу <code>body</code> задаётся класс <code>modal-open</code>. Данные, описывающие изображение, должны подставляться в&nbsp;соответствующие элементы в&nbsp;разметке.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-5" id="kekstagram-4-5">4.5.</a> Выход из&nbsp;полноэкранного режима просмотра фотографии осуществляется либо нажатием на&nbsp;иконку крестика <code>.big-picture__cancel</code> в&nbsp;правом верхнем углу блока <code>.big-picture</code>, либо нажатием на&nbsp;клавишу&nbsp;Esc. У&nbsp;элемента <code>body</code> удаляется класс <code>modal-open</code>.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-6" id="kekstagram-4-6">4.6.</a> Все комментарии к&nbsp;изображению выводятся в&nbsp;блок <code>.social__comments</code>. Сразу после открытия изображения в&nbsp;полноэкранном режиме отображается не&nbsp;более <strong>5</strong> комментариев. Количество показанных комментариев и&nbsp;общее число комментариев отображается в&nbsp;блоке <code>.social__comment-count</code>. Пример разметки списка комментариев приведён в&nbsp;блоке <code>.social__comments</code>. Комментарий оформляется отдельным элементом списка <code>li</code> с&nbsp;классом <code>social__comment</code>. Аватарка автора комментария отображается в&nbsp;блоке <code>.social__picture</code>. Имя автора комментария отображается в&nbsp;атрибуте <code>alt</code> его аватарки. Текст комментария выводится в&nbsp;блоке <code>.social__text</code>.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-7" id="kekstagram-4-7">4.7.</a> Отображение дополнительных комментариев происходит при нажатии на&nbsp;кнопку <code>.comments-loader</code>. При нажатии на&nbsp;кнопку отображается не&nbsp;более 5 новых комментариев. При изменении количества показанных комментариев число показанных комментариев в&nbsp;блоке <code>.social__comment-count</code> также изменяется.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-4-8" id="kekstagram-4-8">4.8.</a> Если все комментарии показаны, кнопку <code>.comments-loader</code> следует скрыть, добавив класс <code>hidden</code>.</p></li></ul><h3 id="5.-filtratsiya-izobrazhenii-ot-drugikh-polzovatelei"><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-5" id="kekstagram-5">5.</a> Фильтрация изображений от&nbsp;других пользователей</h3><ul><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-5-1" id="kekstagram-5-1">5.1.</a> Доступные фильтры:</p><ul><li>«По&nbsp;умолчанию»&nbsp;— фотографии в&nbsp;изначальном порядке с&nbsp;сервера;</li><li>«Случайные»&nbsp;— 10 случайных, не&nbsp;повторяющихся фотографий;</li><li>«Обсуждаемые»&nbsp;— фотографии, отсортированные в&nbsp;порядке убывания количества комментариев.</li></ul></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-5-2" id="kekstagram-5-2">5.2.</a> Блок, с&nbsp;помощью которого производится фильтрация фотографий, скрыт изначально и&nbsp;показывается только после получения от&nbsp;сервера <a href="https://27.javascript.pages.academy/kekstagram/data">данных об&nbsp;изображениях других пользователей</a>.</p></li><li><p><a href="https://up.htmlacademy.ru/profession/frontender/14/javascript/27/project/kekstagram#kekstagram-5-3" id="kekstagram-5-3">5.3.</a> При переключении фильтров, отрисовка изображений, подходящих под новый фильтр, должна производиться не&nbsp;чаще, чем один раз <strong>500 мс</strong> (устранение дребезга).</p></li></ul></div></div></div>